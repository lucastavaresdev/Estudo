<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>

<body>

    <script>
        class Aluno {
            constructor(nome) {
                this.nome = nome;
                this._faltas = 0; //metodo privado
            }

            adicionarFaltas() {
                console.log(`${this.nome} tem ${this._faltas} faltas`);
                this._faltas++;
            }
        }

        let lucas = new Aluno('lucas');

        //lucas.adicionarFaltas() 
        //bular o sistema lucas._faltas = 0


        class ListaAlunos {
            constructor(_lista) {
                this.lista = [].concat(_lista); //crio uma array vazia e contcateno montando uma nova lista nÃ£o altera a original
            }
            obterAluno(nome) {
                return this.lista.filter(aluno => aluno.nome === nome)[0];
            }

            obterAlunosReprovadosPorFaltas() {
                var faltasPermitidas = ListaAlunos.faltasPermitidas;
                return this.lista.filter(aluno => {
                    return aluno._faltas >= faltasPermitidas
                })
            }

            static get faltasPermitidas() {
                return 5;
            }
        }

        var alunos = ['lucas', 'joyce'].map(aluno => new Aluno(aluno));
        console.log(alunos);

        var lista = new ListaAlunos(alunos);
        //testar lista.obterAluno('joyce' 
        //lista.obterAlunosReprovadosPorFaltas()
        console.log(lista)
        console.log(lista.obterAlunosReprovadosPorFaltas())



        //teste alunos reprovados por faltas
        //alunos[0].adicionarFaltas()

    </script>

</body>

</html>
